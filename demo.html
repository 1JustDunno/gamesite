<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Favicon Changer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0; /* Light gray background */
            color: #333; /* Darker text */
        }

        .modal {
            display: none; 
            position: fixed; 
            z-index: 1; 
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgba(0, 0, 0, 0.7);  /* 70% opacity */
        }

        .modal-content {
            background-color: #e0e0e0; /* Light gray modal background */
            margin: 20% auto; 
            padding: 20px;
            border: 1px solid #888;
            width: 300px;  /* Fixed width for compactness */
            border-radius: 8px; /* Rounded corners */
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 24px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        h2 {
            margin: 0;
            font-size: 18px; /* Smaller heading */
        }

        button {
            margin-top: 10px; /* Space above the button */
            background-color: #888; /* Gray button */
            color: white; /* White text */
            border: none; /* No border */
            padding: 10px; /* Button padding */
            border-radius: 4px; /* Rounded corners */
            cursor: pointer;
        }

        button:hover {
            background-color: #777; /* Darker gray on hover */
        }

        .favicon-option {
            display: inline-block;
            width: 50px; /* Width of favicon options */
            height: 50px; /* Height of favicon options */
            margin: 5px;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .favicon-option:hover {
            border: 2px solid #555; /* Highlight on hover */
        }
    </style>
</head>
<body>

<button id="openFaviconUI">Change Favicon</button>

<div id="faviconModal" class="modal">
    <div class="modal-content">
        <span id="closeModal" class="close">&times;</span>
        <h2>Select Favicon</h2>
        
        <div id="faviconSelection">
            <img src="favicon/favicon.png" class="favicon-option" data-favicon="favicon1.ico" data-title="Favicon 1">
            <img src="favicon2.ico" class="favicon-option" data-favicon="favicon2.ico" data-title="Favicon 2">
            <img src="favicon3.ico" class="favicon-option" data-favicon="favicon3.ico" data-title="Favicon 3">
        </div>
        
        <button id="setFavicon">Set Favicon</button>
    </div>
</div>

<script>
    document.getElementById('openFaviconUI').addEventListener('click', () => {
        document.getElementById('faviconModal').style.display = 'block';
    });

    document.getElementById('closeModal').addEventListener('click', () => {
        document.getElementById('faviconModal').style.display = 'none';
    });

    window.addEventListener('click', (event) => {
        if (event.target === document.getElementById('faviconModal')) {
            document.getElementById('faviconModal').style.display = 'none';
        }
    });

    const faviconOptions = document.querySelectorAll('.favicon-option');
    let selectedFavicon = '';
    let selectedTitle = '';

    faviconOptions.forEach(option => {
        option.addEventListener('click', function() {
            selectedFavicon = this.dataset.favicon;
            selectedTitle = this.dataset.title; // Get the title from data attribute
            faviconOptions.forEach(opt => opt.style.border = '2px solid transparent'); // Reset borders
            this.style.border = '2px solid #555'; // Highlight selected
        });
    });

    document.getElementById('setFavicon').addEventListener('click', () => {
        if (selectedFavicon) {
            const link = document.querySelector("link[rel*='icon']") || document.createElement('link');
            link.rel = 'icon';
            link.href = selectedFavicon;
            document.head.appendChild(link);
        }

        // Automatically set the title to the selected favicon's title
        if (selectedTitle) {
            document.title = selectedTitle;
        }

        document.getElementById('faviconModal').style.display = 'none';
    });
</script>

</body>
</html>
