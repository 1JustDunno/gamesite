<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap");

:root {
  --bg-primary: #0a0a1a;
  --bg-secondary: #1a1a2e;
  --bg-tertiary: #25253a;
  --accent-pink: #ff6b9d;
  --accent-blue: #6b9dff;
  --accent-purple: #9d6bff;
  --text-primary: #ffffff;
  --text-secondary: #c0c0d0;
  --shadow-md: 0 8px 15px rgba(0, 0, 0, 0.2);
  --transition-normal: 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}

body {
  font-family: "Press Start 2P", cursive;
  background-color: var(--bg-primary);
  color: var(--text-primary);
  margin: 0;
  padding: 50px;
  text-align: center;
  line-height: 1.6;
  min-height: 100vh;
}

h1, h2, h3 {
  font-family: "Press Start 2P", cursive;
  background: linear-gradient(135deg, var(--accent-pink), var(--accent-blue), var(--accent-purple));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 2px 10px rgba(255, 107, 157, 0.3);
  letter-spacing: 1px;
  margin-bottom: 1.5rem;
  text-align: center;
}

h1 { font-size: 1.8rem; }
h2 { font-size: 1.5rem; }
h3 { font-size: 1.2rem; }

button {
  background-color: var(--bg-secondary);
  border-radius: 16px;
  box-shadow: var(--shadow-md);
  transition: all var(--transition-normal);
  padding: 15px 20px;
  font-size: 18px;
  display: inline-block;
  width: 200px;
  text-align: center;
  position: relative;
  overflow: hidden;
  cursor: pointer;
  border: none;
  color: #ffffff;
  margin: 0.5rem;
  font-family: "Press Start 2P", cursive;
  font-size: 0.9rem;
}

button::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(255, 107, 157, 0.05), rgba(107, 157, 255, 0.05));
  opacity: 0;
  transition: opacity var(--transition-normal);
  z-index: -1;
  border-radius: 16px;
}

button:hover {
  transform: translateY(-5px);
  background-color: var(--bg-tertiary);
  box-shadow: 0 12px 20px rgba(0, 0, 0, 0.3);
}

button:hover::before {
  opacity: 1;
}

.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.8);
}

.modal-content {
  margin: 15% auto;
  padding: 20px;
  border: 2px solid var(--accent-blue);
  width: 80%;
  max-width: 600px;
  background-color: var(--bg-secondary);
  border-radius: 16px;
  box-shadow: var(--shadow-md);
}

.close {
  color: var(--text-primary);
  float: right;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
  transition: color var(--transition-normal);
}

.close:hover {
  color: var(--accent-pink);
}

#faviconSelection img {
  width: 100px;
  height: 100px;
  display: inline-block;
  margin: 10px;
  cursor: pointer;
  transition: all var(--transition-normal);
  border-radius: 12px;
  border: 3px solid transparent;
}

#faviconSelection img:hover {
  transform: scale(1.05);
  border: 3px solid var(--accent-pink);
  box-shadow: 0 0 15px rgba(255, 107, 157, 0.5);
}

input[type="text"],
input[type="number"] {
  background-color: #ffffff;
  color: #000000;
  border: 2px solid var(--accent-blue);
  border-radius: 9999px;
  padding: 8px 16px;
  margin: 10px;
  font-family: "Press Start 2P", cursive;
  font-size: 0.8rem;
  box-shadow: 0 2px 8px rgba(107, 157, 255, 0.3);
}

input[type="text"] {
  width: 50px;
  text-align: center;
}

input[type="number"] {
  width: 100px;
  text-align: center;
}

label {
  font-family: "VT323", monospace;
  font-size: 1.2rem;
  color: var(--text-primary);
  margin: 10px 0;
  display: inline-block;
}

#saveKeybind,
#saveAutoClickerSettings {
  background: linear-gradient(135deg, var(--accent-pink), var(--accent-blue));
  color: #ffffff;
  border: none;
  padding: 0.5rem 1.25rem;
  border-radius: 9999px;
  margin: 1rem 0;
  font-weight: 600;
  transition: all var(--transition-normal);
  cursor: pointer;
  display: inline-block;
  width: auto;
}

#saveKeybind:hover,
#saveAutoClickerSettings:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(255, 107, 157, 0.4);
}

#autoClickerStatusMessage {
  color: var(--accent-pink);
  font-family: "VT323", monospace;
  font-size: 1.2rem;
  margin-top: 10px;
}

.section-divider {
  height: 3px;
  background: linear-gradient(90deg, transparent, var(--accent-pink), var(--accent-blue), var(--accent-purple), transparent);
  margin: 2.5rem auto;
  width: 80%;
  max-width: 600px;
  border-radius: 3px;
  position: relative;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  body {
    padding: 30px;
  }
  
  .modal-content {
    width: 90%;
    padding: 15px;
  }
  
  button {
    width: 180px;
    font-size: 0.8rem;
  }
  
  #faviconSelection img {
    width: 80px;
    height: 80px;
  }
}

@media (max-width: 480px) {
  body {
    padding: 20px;
  }
  
  h1 {
    font-size: 1.5rem;
  }
  
  h2 {
    font-size: 1.2rem;
  }
  
  button {
    width: 160px;
    padding: 12px 15px;
    font-size: 0.7rem;
  }
  
  #faviconSelection img {
    width: 60px;
    height: 60px;
    margin: 5px;
  }
  
  .modal-content {
    margin-top: 20%;
  }
}
    </style>
</head>
    <h1>Settings</h1>

<center><a href="/"><button>Go Back</button></a></center>
<br></br>
<body>
    <button id="openFaviconUI">Change Favicon</button>
    <button id="setKeybindButton">Panic Keybind</button>
    <button id="openAutoClickerModalButton">Auto Clicker</button>

    <div id="faviconModal" class="modal">
        <div class="modal-content">
            <span id="closeFaviconModal" class="close">&times;</span>
            <h2>Select Favicon</h2>
            <div id="faviconSelection">
                <img src="/images/favicon.png" class="favicon-option" data-favicon="/images/favicon.png" data-title="Grades & Attendance">
                <img src="https://ssl.gstatic.com/classroom/ic_product_classroom_144.png" class="favicon-option" data-favicon="https://ssl.gstatic.com/classroom/favicon.png" data-title="Home">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSOKSBV-WuzkwkPLTB5AQwpOCyTOs25hXkkVA&s" class="favicon-option" data-favicon="https://www.google.com/favicon.ico" data-title="Google">
                <img src="/favicon/googledocs.png" class="favicon-option" data-favicon="/favicon/googledocs.png" data-title="Google Docs">
            </div>
        </div>
    </div>

    <div id="keybindModal" class="modal">
        <div class="modal-content">
            <span id="closeKeybindModal" class="close">&times;</span>
            <h2>Set Panic Keybind</h2>
            <label for="keybind">Keybind:</label>
            <input type="text" id="keybind" maxlength="1">
            <button id="saveKeybind">Save Keybind</button>
        </div>
    </div>

    <!-- Auto Clicker Modal -->
    <div id="autoClickerModal" class="modal">
        <div class="modal-content">
            <span id="closeAutoClickerModal" class="close">&times;</span>
            <h2>Auto Clicker Settings</h2>
            <label for="autoKeybind">Keybind to Start/Stop Auto Clicker:</label>
            <input type="text" id="autoKeybind" maxlength="1" value="a">
            <br><br>

            <label for="autoClickSpeed">Click Speed (ms):</label>
            <input type="number" id="autoClickSpeed" value="1000" min="1">
            <br><br>

            <button id="saveAutoClickerSettings">Save Settings</button>
            <p id="autoClickerStatusMessage" style="color: green;"></p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const faviconModal = document.getElementById('faviconModal');
            const keybindModal = document.getElementById('keybindModal');
            const autoClickerModal = document.getElementById('autoClickerModal');
            const openFaviconButton = document.getElementById('openFaviconUI');
            const setKeybindButton = document.getElementById('setKeybindButton');
            const openAutoClickerModalButton = document.getElementById('openAutoClickerModalButton');
            const closeFaviconModal = document.getElementById('closeFaviconModal');
            const closeKeybindModal = document.getElementById('closeKeybindModal');
            const closeAutoClickerModal = document.getElementById('closeAutoClickerModal');
            const faviconImages = document.querySelectorAll('#faviconSelection img');
            const keybindInput = document.getElementById('keybind');
            const saveKeybindButton = document.getElementById('saveKeybind');
            const autoKeybindInput = document.getElementById('autoKeybind');
            const autoClickSpeedInput = document.getElementById('autoClickSpeed');
            const saveAutoClickerSettingsButton = document.getElementById('saveAutoClickerSettings');
            const autoClickerStatusMessage = document.getElementById('autoClickerStatusMessage');

            let panicKeybind = localStorage.getItem('panicKeybind') || '\\';
            let autoClickerKeybind = localStorage.getItem('autoClickerKeybind') || 'a';
            let autoClickerSpeed = localStorage.getItem('autoClickerSpeed') || 1000;

            // Load saved settings
            const selectedFavicon = localStorage.getItem('selectedFavicon') || '';
            const selectedTitle = localStorage.getItem('selectedTitle') || '';

            // Set favicon and title on load
            if (selectedFavicon) {
                const link = document.querySelector("link[rel*='icon']") || document.createElement('link');
                link.rel = 'icon';
                link.href = selectedFavicon;
                document.head.appendChild(link);
                document.title = selectedTitle || document.title;
            }

            // Open Modals
            openFaviconButton.addEventListener('click', () => {
                faviconModal.style.display = 'block';
            });

            setKeybindButton.addEventListener('click', () => {
                keybindInput.value = panicKeybind;
                keybindModal.style.display = 'block';
            });

            openAutoClickerModalButton.addEventListener('click', () => {
                autoKeybindInput.value = autoClickerKeybind;
                autoClickSpeedInput.value = autoClickerSpeed;
                autoClickerModal.style.display = 'block';
            });

            // Close Modals
            closeFaviconModal.addEventListener('click', () => {
                faviconModal.style.display = 'none';
            });

            closeKeybindModal.addEventListener('click', () => {
                keybindModal.style.display = 'none';
            });

            closeAutoClickerModal.addEventListener('click', () => {
                autoClickerModal.style.display = 'none';
            });

            // Handle Favicon Selection
            faviconImages.forEach(img => {
                img.addEventListener('click', () => {
                    const selectedFavicon = img.dataset.favicon;
                    const selectedTitle = img.dataset.title;

                    localStorage.setItem('selectedFavicon', selectedFavicon);
                    localStorage.setItem('selectedTitle', selectedTitle);

                    const link = document.querySelector("link[rel*='icon']") || document.createElement('link');
                    link.rel = 'icon';
                    link.href = selectedFavicon;
                    document.head.appendChild(link);
                    document.title = selectedTitle;

                    alert(`Favicon changed to: ${selectedTitle}`);
                    faviconModal.style.display = 'none';
                });
            });

            // Save Panic Keybind
            saveKeybindButton.addEventListener('click', () => {
                const keybind = keybindInput.value.trim();
                if (keybind.length === 1) {
                    panicKeybind = keybind;
                    localStorage.setItem('panicKeybind', panicKeybind);
                    alert(`Panic Keybind set to: ${panicKeybind}`);
                    keybindModal.style.display = 'none';
                } else {
                    alert('Please enter a single character.');
                }
            });

            // Save Auto Clicker Settings
            saveAutoClickerSettingsButton.addEventListener('click', () => {
                const keybind = autoKeybindInput.value.trim();
                const clickSpeed = parseInt(autoClickSpeedInput.value, 10);

                if (keybind.length === 1 && clickSpeed > 0) {
                    autoClickerKeybind = keybind;
                    autoClickerSpeed = clickSpeed;

                    localStorage.setItem('autoClickerKeybind', autoClickerKeybind);
                    localStorage.setItem('autoClickerSpeed', autoClickerSpeed);

                    alert(`Auto Clicker Keybind set to: ${autoClickerKeybind}\nClick Speed set to: ${autoClickerSpeed}ms`);
                    autoClickerStatusMessage.textContent = 'Auto Clicker settings saved.';
                    autoClickerModal.style.display = 'none';
                } else {
                    alert('Please enter valid settings for Auto Clicker.');
                }
            });

            // Auto-clicker function
            let autoClickerInterval;
            document.addEventListener('keydown', (event) => {
                if (event.key === autoClickerKeybind) {
                    if (autoClickerInterval) {
                        clearInterval(autoClickerInterval);
                        autoClickerInterval = null;
                    } else {
                        autoClickerInterval = setInterval(() => {
                            document.querySelector('button').click();
                        }, autoClickerSpeed);
                    }
                }
            });
        });
    </script>
</body>
</html>
